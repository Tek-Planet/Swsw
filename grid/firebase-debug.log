[debug] [2025-12-23T13:43:40.758Z] ----------------------------------------------------------------------
[debug] [2025-12-23T13:43:40.763Z] Command:       /opt/homebrew/Cellar/node/22.9.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-12-23T13:43:40.763Z] CLI Version:   13.29.1
[debug] [2025-12-23T13:43:40.763Z] Platform:      darwin
[debug] [2025-12-23T13:43:40.763Z] Node Version:  v22.9.0
[debug] [2025-12-23T13:43:40.763Z] Time:          Tue Dec 23 2025 13:43:40 GMT+0000 (Greenwich Mean Time)
[debug] [2025-12-23T13:43:40.763Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-23T13:43:40.801Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-23T13:43:40.802Z] > authorizing via signed-in user (gridtheeventsapp@gmail.com)
[debug] [2025-12-23T13:43:40.802Z] [iam] checking project gridevent for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-12-23T13:43:40.802Z] Checked if tokens are valid: false, expires at: 1766496383838
[debug] [2025-12-23T13:43:40.802Z] Checked if tokens are valid: false, expires at: 1766496383838
[debug] [2025-12-23T13:43:40.802Z] > refreshing access token with scopes: []
[debug] [2025-12-23T13:43:40.803Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-23T13:43:40.803Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-23T13:43:40.926Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-23T13:43:40.926Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-23T13:43:40.939Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/gridevent:testIamPermissions [none]
[debug] [2025-12-23T13:43:40.940Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/gridevent:testIamPermissions x-goog-quota-user=projects/gridevent
[debug] [2025-12-23T13:43:40.940Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/gridevent:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-12-23T13:43:41.578Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/gridevent:testIamPermissions 200
[debug] [2025-12-23T13:43:41.579Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/gridevent:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-12-23T13:43:41.579Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:41.579Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:41.580Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/gridevent/serviceAccounts/gridevent@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-12-23T13:43:41.580Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/gridevent/serviceAccounts/gridevent@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-12-23T13:43:42.213Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/gridevent/serviceAccounts/gridevent@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-12-23T13:43:42.213Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/gridevent/serviceAccounts/gridevent@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'gridevent'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-12-23T13:43:44.187Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.187Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.187Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/gridevent [none]
[debug] [2025-12-23T13:43:44.352Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/gridevent 200
[debug] [2025-12-23T13:43:44.353Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/gridevent {"projectNumber":"1024297793350","projectId":"gridevent","lifecycleState":"ACTIVE","name":"gridEvent","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-12-20T00:55:55.955475Z"}
[info] i  functions: preparing codebase grid for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:44.353Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudfunctions.googleapis.com [none]
[debug] [2025-12-23T13:43:44.353Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/gridevent
[debug] [2025-12-23T13:43:44.354Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/runtimeconfig.googleapis.com [none]
[debug] [2025-12-23T13:43:44.354Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/gridevent
[debug] [2025-12-23T13:43:44.355Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudbuild.googleapis.com [none]
[debug] [2025-12-23T13:43:44.355Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudbuild.googleapis.com x-goog-quota-user=projects/gridevent
[debug] [2025-12-23T13:43:44.355Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/artifactregistry.googleapis.com [none]
[debug] [2025-12-23T13:43:44.355Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/artifactregistry.googleapis.com x-goog-quota-user=projects/gridevent
[debug] [2025-12-23T13:43:45.132Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/runtimeconfig.googleapis.com 200
[debug] [2025-12-23T13:43:45.132Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-12-23T13:43:45.133Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/artifactregistry.googleapis.com 200
[debug] [2025-12-23T13:43:45.133Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-12-23T13:43:45.136Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudfunctions.googleapis.com 200
[debug] [2025-12-23T13:43:45.136Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-12-23T13:43:45.149Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudbuild.googleapis.com 200
[debug] [2025-12-23T13:43:45.149Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-12-23T13:43:45.149Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:45.149Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:45.149Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/gridevent/adminSdkConfig [none]
[debug] [2025-12-23T13:43:45.770Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/gridevent/adminSdkConfig 200
[debug] [2025-12-23T13:43:45.770Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/gridevent/adminSdkConfig {"projectId":"gridevent","storageBucket":"gridevent.firebasestorage.app"}
[debug] [2025-12-23T13:43:45.771Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:45.771Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:45.771Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs [none]
[debug] [2025-12-23T13:43:46.559Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs 200
[debug] [2025-12-23T13:43:46.559Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs {"configs":[{"name":"projects/gridevent/configs/app"},{"name":"projects/gridevent/configs/stripe"}]}
[debug] [2025-12-23T13:43:46.559Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.559Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.559Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.559Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.559Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables [none]
[debug] [2025-12-23T13:43:46.559Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables [none]
[debug] [2025-12-23T13:43:46.746Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables 200
[debug] [2025-12-23T13:43:46.746Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables {"variables":[{"name":"projects/gridevent/configs/app/variables/url","updateTime":"2025-12-22T18:44:32.112932766Z"}]}
[debug] [2025-12-23T13:43:46.746Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.746Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.746Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables/url [none]
[debug] [2025-12-23T13:43:46.769Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables 200
[debug] [2025-12-23T13:43:46.769Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables {"variables":[{"name":"projects/gridevent/configs/stripe/variables/secret_key","updateTime":"2025-12-22T21:39:53.703227078Z"},{"name":"projects/gridevent/configs/stripe/variables/webhook_secret","updateTime":"2025-12-22T21:40:48.573186924Z"},{"name":"projects/gridevent/configs/stripe/variables/secret","updateTime":"2025-12-20T17:47:37.949093183Z"}]}
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:46.769Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret_key [none]
[debug] [2025-12-23T13:43:46.769Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/webhook_secret [none]
[debug] [2025-12-23T13:43:46.770Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret [none]
[debug] [2025-12-23T13:43:46.941Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables/url 200
[debug] [2025-12-23T13:43:46.941Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/app/variables/url {"name":"projects/gridevent/configs/app/variables/url","updateTime":"2025-12-22T18:44:32.112932766Z","text":"https://grid-launch-preparty.lovable.app"}
[debug] [2025-12-23T13:43:46.963Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret_key 200
[debug] [2025-12-23T13:43:46.963Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret_key {"name":"projects/gridevent/configs/stripe/variables/secret_key","updateTime":"2025-12-22T21:39:53.703227078Z","text":"sk_test_51H7dhKIIFaIFWb8DTk9YIiWYJ1kLflgKtM6h6xS8yv0C3tHFtm2cjRaXxksZIUWfyiRPTkayhVo6TBSufDcJxzGn00yxmpGGEk"}
[debug] [2025-12-23T13:43:46.995Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/webhook_secret 200
[debug] [2025-12-23T13:43:46.995Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/webhook_secret {"name":"projects/gridevent/configs/stripe/variables/webhook_secret","updateTime":"2025-12-22T21:40:48.573186924Z","text":"whsec_xtCudkrlHAS1uzTOhiURkPfCuRChLVtn"}
[debug] [2025-12-23T13:43:47.010Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret 200
[debug] [2025-12-23T13:43:47.010Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/gridevent/configs/stripe/variables/secret {"name":"projects/gridevent/configs/stripe/variables/secret","updateTime":"2025-12-20T17:47:37.949093183Z","text":"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"}
[debug] [2025-12-23T13:43:47.012Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-23T13:43:47.565Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "npm run build && firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.6.0",
    "stripe": "^20.0.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.9.3"
  },
  "private": true
}
[debug] [2025-12-23T13:43:47.565Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase grid to determine what to deploy 
[debug] [2025-12-23T13:43:47.566Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-23T13:43:47.569Z] Found firebase-functions binary at '/Users/oluwabishefiu/Documents/Projects/ReactNative/Typescripts/grid/Swsw/grid/node_modules/.bin/firebase-functions'
[info] Serving at port 8518

[debug] [2025-12-23T13:43:47.988Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"},"createCheckoutSession":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckoutSession"},"gpayCharge":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"gpayCharge"},"stripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"stripeWebhook"},"setAdminStatus":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"setAdminStatus"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-12-23T13:43:52.018Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:52.018Z] Checked if tokens are valid: true, expires at: 1766501019926
[debug] [2025-12-23T13:43:52.019Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/firebaseextensions.googleapis.com [none]
[debug] [2025-12-23T13:43:52.019Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/gridevent/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/gridevent
